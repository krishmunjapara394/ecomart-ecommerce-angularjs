@if (isLoading) {
<app-loading-spinner></app-loading-spinner>
}

<!-- Breadcrumbs -->
<nav class="mx-auto w-full mt-4 max-w-[1200px] px-5">
  <ul class="flex items-center text-sm">
    <li>
      <a routerLink="/" class="text-gray-400 hover:text-violet-900 transition-colors">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-4 w-4">
          <path
            d="M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z" />
          <path
            d="M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z" />
        </svg>
      </a>
    </li>
    <li><span class="mx-2 text-gray-300">/</span></li>
    <li class="text-gray-500">My Account</li>
  </ul>
</nav>

<!-- Profile Container -->
<section class="mx-auto max-w-[1200px] px-5 py-8 lg:flex lg:gap-8">
  <!-- Sidebar -->
  <app-sidebar [userInfo]="userInfo"></app-sidebar>

  <!-- Main Content -->
  <div class="flex-1">
    <!-- Dashboard Cards -->
    <div class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">
      <!-- Personal Info Card -->
      <div
        class="group rounded-xl border border-gray-100 bg-white p-5 shadow-sm transition-all hover:shadow-md hover:border-violet-100">
        <div class="flex items-center justify-between mb-4">
          <div class="flex h-10 w-10 items-center justify-center rounded-lg bg-violet-50 text-violet-700">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="h-5 w-5">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
            </svg>
          </div>
          <a routerLink="/profile/edit"
            class="text-xs font-medium text-violet-700 hover:text-violet-900 transition-colors">Edit →</a>
        </div>
        <h3 class="text-sm font-semibold text-gray-800 mb-2">Personal Information</h3>
        <div class="space-y-1 text-sm text-gray-500">
          <p class="truncate">{{ userInfo.fullName }}</p>
          <p class="truncate">{{ userInfo.email }}</p>
          <p>{{ userInfo.phone }}</p>
        </div>
      </div>

      <!-- Address Card -->
      <div
        class="group rounded-xl border border-gray-100 bg-white p-5 shadow-sm transition-all hover:shadow-md hover:border-violet-100">
        <div class="flex items-center justify-between mb-4">
          <div class="flex h-10 w-10 items-center justify-center rounded-lg bg-amber-50 text-amber-600">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="h-5 w-5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" />
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" />
            </svg>
          </div>
          <a routerLink="/profile/address"
            class="text-xs font-medium text-violet-700 hover:text-violet-900 transition-colors">Edit →</a>
        </div>
        <h3 class="text-sm font-semibold text-gray-800 mb-2">Shipping Address</h3>
        @if (!isAddressEmpty()) {
        <div class="space-y-1 text-sm text-gray-500">
          <p>{{ userInfo?.address[0]?.street1 }}</p>
          <p>{{ userInfo?.address[0]?.city }}, {{ userInfo?.address[0]?.state }}</p>
          <p>{{ userInfo?.address[0]?.country }} {{ userInfo?.address[0]?.zip }}</p>
        </div>
        } @else {
        <p class="text-sm text-gray-400 italic">No address added yet</p>
        }
      </div>

      <!-- Security Card -->
      <div
        class="group rounded-xl border border-gray-100 bg-white p-5 shadow-sm transition-all hover:shadow-md hover:border-violet-100">
        <div class="flex items-center justify-between mb-4">
          <div class="flex h-10 w-10 items-center justify-center rounded-lg bg-green-50 text-green-600">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="h-5 w-5">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
            </svg>
          </div>
          <a routerLink="/profile/password"
            class="text-xs font-medium text-violet-700 hover:text-violet-900 transition-colors">Change →</a>
        </div>
        <h3 class="text-sm font-semibold text-gray-800 mb-2">Account Security</h3>
        <div class="space-y-1 text-sm text-gray-500">
          <p>Password: ••••••••</p>
          <p class="text-xs text-green-600 flex items-center gap-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-3.5 w-3.5">
              <path fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z"
                clip-rule="evenodd" />
            </svg>
            Account secured
          </p>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="mt-6 rounded-xl border border-gray-100 bg-white p-5 shadow-sm">
      <h3 class="text-sm font-semibold text-gray-800 mb-4">Quick Actions</h3>
      <div class="grid grid-cols-2 gap-3 sm:grid-cols-4">
        <a routerLink="/order-history"
          class="flex flex-col items-center gap-2 rounded-lg border border-gray-100 p-4 text-center transition-all hover:border-violet-200 hover:bg-violet-50 cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="h-6 w-6 text-violet-700">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
          </svg>
          <span class="text-xs font-medium text-gray-600">Orders</span>
        </a>
        <a routerLink="/profile/wishlist"
          class="flex flex-col items-center gap-2 rounded-lg border border-gray-100 p-4 text-center transition-all hover:border-violet-200 hover:bg-violet-50 cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="h-6 w-6 text-red-500">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
          </svg>
          <span class="text-xs font-medium text-gray-600">Wishlist</span>
        </a>
        <a routerLink="/cart"
          class="flex flex-col items-center gap-2 rounded-lg border border-gray-100 p-4 text-center transition-all hover:border-violet-200 hover:bg-violet-50 cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="h-6 w-6 text-amber-500">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z" />
          </svg>
          <span class="text-xs font-medium text-gray-600">Cart</span>
        </a>
        <a routerLink="/catalog"
          class="flex flex-col items-center gap-2 rounded-lg border border-gray-100 p-4 text-center transition-all hover:border-violet-200 hover:bg-violet-50 cursor-pointer">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="h-6 w-6 text-blue-500">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M13.5 21v-7.5a.75.75 0 01.75-.75h3a.75.75 0 01.75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349m-16.5 11.65V9.35m0 0a3.001 3.001 0 003.75-.615A2.993 2.993 0 009.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 002.25 1.016c.896 0 1.7-.393 2.25-1.016a3.001 3.001 0 003.75.614m-16.5 0a3.004 3.004 0 01-.621-4.72L4.318 3.44A1.5 1.5 0 015.378 3h13.243a1.5 1.5 0 011.06.44l1.19 1.189a3 3 0 01-.621 4.72m-13.5 8.65h3.75a.75.75 0 00.75-.75V13.5a.75.75 0 00-.75-.75H6.75a.75.75 0 00-.75.75v3.15c0 .415.336.75.75.75z" />
          </svg>
          <span class="text-xs font-medium text-gray-600">Shop</span>
        </a>
      </div>
    </div>

    <!-- Router Outlet for child routes -->
    <div class="mt-6">
      <router-outlet></router-outlet>
    </div>
  </div>
</section>